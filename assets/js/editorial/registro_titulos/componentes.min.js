let cabecera={crear_btn_group:function(b){let a=$("<div>",{"class":"btn-group ml-auto"});b.forEach(b=>{$(a).append($(`<${b.tipo}>`,{id:b.id,type:"button","class":"btn btn-secondary",href:b.href,target:b.target}).text(b.valor))});return a},render:function(b,a){let c=$("<div>",{"class":"container-fluid border"}),e=$("<div>",{"class":"row text-left ml-4 mt-4"}),d=$("<div>",{"class":"row text-right"}),f=$("<h3>",{"class":"display-6"}).text("Registro de t\u00edtulos");$(e).append(f);$(d).append(this.crear_btn_group([{id:"btn_ejemplo_etiquetas",
valor:"Ejemplo para etiquetas",tipo:"a",href:`${b}assets/formatos/ejemplo_etiqueta.pdf`,target:"_blank"},{id:"btn_titulos_registrados",valor:"Titulos registrados (Excel)",tipo:"a",href:`${b}editorial/registro_titulos/titulos_registrados_excel/${a}`,target:"_blank"},{id:"btn_lista_oficial",valor:"Lista oficial T\u00edtulos Registrados",tipo:"a",href:`${b}editorial/registro_titulos/lista_oficial_titulos/${a}`,target:"_blank"}]));$(c).append(e).append(d);return c}},btn_registrar_titulo={render(){return $("<button>",
{id:"btn_registrar_titulo",type:"button","class":"btn btn-primary mt-4 mb-4"}).text("+ Registrar T\u00edtulo")}},tabla_titulos_registrados={render:function(){return $("<table>",{id:"tbl_titulos_registrados"})},habilitar_datatable:function(b,a,c){$(b).DataTable({ajax:{url:`${a}${c}`,method:"GET",cache:"false",dataSrc:""},columns:[{data:"folio",title:"Folio"},{data:"titulo",title:"T\u00edtulo"},{data:"id",title:"Editar",render:a=>`<button 
                                    id="btn_editar_titulo_${a}" 
                                    class="btn btn-md btn-outline-info m-0 px-3 py-2 z-depth-0 waves-effect" 
                                    id_titulo="${a}">`+'<i class="fa fa-edit"></i></button>'},{data:"id",title:"Acuse",render:a=>`<a
                                    id="btn_descarga_acuse_${a}"
                                    class="btn btn-md btn-outline-secondary m-0 px-3 py-2 z-depth-0 waves-effect"
                                    href="${base_url}editorial/registro_titulos/acuse_titulo/${a}"
                                    target="_blank">`+'<i class="fa fa-file"></i></a>'}],responsive:!0,dom:"f",language:{search:"Buscar"}})}},form_registro_titulos={data:"",bilingue:{data:[{lengua:"Cochim\u00ed"},{lengua:"Pa-Ipai"},{lengua:"Kiliwa"},{lengua:"Kumiai"},{lengua:"Cucap\u00e1"},{lengua:"Seri"},{lengua:"Pima"},{lengua:"Mayo"},{lengua:"Yaqui"},{lengua:"Cahita"},{lengua:"Otom\u00ed"},{lengua:"Kikap\u00fa"},{lengua:"Tepeh\u00faan"},{lengua:"Tarahumara"},{lengua:"Huichol"},{lengua:"Cora"},
{lengua:"Chichimeca-Jonaz"},{lengua:"N\u00e1huatl"},{lengua:"Huasteco"},{lengua:"Pur\u00e9pecha"},{lengua:"Mixteco"},{lengua:"Mazahua"},{lengua:"Totonaca"},{lengua:"Zapoteco"},{lengua:"Mixe"},{lengua:"Zoque"},{lengua:"Chinanteco"},{lengua:"Chontal"},{lengua:"Tzotzil"},{lengua:"Tzeltal"},{lengua:"Chol"},{lengua:"Tojolabal"},{lengua:"Mame"},{lengua:"Maya"},{lengua:"Kekchi"},{lengua:"Ixil"},{lengua:"Quich\u00e9"},{lengua:"Popoluca"},{lengua:"Tepehua"},{lengua:"Mazateco"},{lengua:"Tlapaneco"},{lengua:"Chontal de Tabasco"},
{lengua:"Chatino"},{lengua:"Amuzgo"},{lengua:"Trique"},{lengua:"Huave"},{lengua:"Guarij\u00edo"},{lengua:"T\u00e9nek"},{lengua:"Wix\u00e1rika"},{lengua:"Mapuche"},{lengua:"Jakalteco"}]},datos_bibliograficos:{edi_id:{tipo:"hidden",atributos:{required:"required"},val:"",etiqueta:"Id de Editorial:"},titulo:{tipo:"text",atributos:{required:"required"},val:"",etiqueta:"T\u00edtulo:",placeholder:"Escribe el t\u00edtulo del libro"},titulo_original:{tipo:"text",atributos:null,val:"",etiqueta:"T\u00edtulo Original:",
placeholder:"Escribe el t\u00edtulo en lengua original del libro"},material:{tipo:"checkbox",atributos:null,val:["antologia","ilustrado"],etiqueta:"El material es:",etiqueta_checkbox:["Antolog\u00eda:","Ilustrado:"]},autor:{tipo:"btn_crear_seleccion",atributos:{required:"required",multiple:"multiple"},val:"",etiqueta:"Autores:",placeholder:"Escribe el t\u00edtulo en lengua original del libro",modal:"mdl_agregar_autor",id:"aut_nombre",textos:["aut_tipo","aut_nombre"],tabla:"autores"},indice_titulo:{tipo:"textarea",
atributos:null,val:"",etiqueta:"Indice del t\u00edtulo:"},material_lengua_indigena:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Material en lengua indigena:",id:"lengua",textos:["","lengua"],tabla:"bilingue"},sello:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Sello Editorial:",id:"sel_id",textos:["","sel_sello"],tabla:"sellos_editoriales"},edicion:{tipo:"text",atributos:{required:"required"},val:"",etiqueta:"Edici\u00f3n",placeholder:"Escribe la edici\u00f3n del libro"},
anio:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"A\u00f1o:",placeholder:"Escribe el a\u00f1o [xxxx] de edici\u00f3n del libro"},tiraje:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"Tiraje:",placeholder:"Escribe el tiraje del libro"},resenia:{tipo:"textarea",atributos:{required:"required"},val:"",etiqueta:"Rese\u00f1a:"},isbn:{tipo:"text",atributos:{required:"required"},val:"",etiqueta:"ISBN:",placeholder:"Escribe el ISBN del libro"},paginas_con_folio:{tipo:"text",
atributos:{required:"required"},val:"",etiqueta:"P\u00e1ginas con folio:"},pais:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Pa\u00eds:",id:"pai_pais",textos:["","pai_pais"],tabla:"paises"},ciudad:{tipo:"text",atributos:{required:"required"},val:"",etiqueta:"Ciudad:"},reconocimiento_libro:{tipo:"textarea",atributos:null,val:"",etiqueta:"Reconocimiento para el libro:"},reconocimiento_autor:{tipo:"textarea",atributos:null,val:"",etiqueta:"Reconocimiento para el autor:"},reconocimiento_ilustrador:{tipo:"textarea",
atributos:null,val:"",etiqueta:"Reconocimiento para el ilustrador:"},nivel:{tipo:"text",atributos:{disabled:"disabled",required:"required"},val:"1pre",etiqueta:"Nivel:"},genero:{tipo:"text",atributos:{disabled:"disabled",required:"required"},val:"Texto literario",etiqueta:"Genero:"},categoria:{tipo:"text",atributos:{disabled:"disabled",required:"required"},val:"El cuerpo",etiqueta:"Categor\u00eda:"},precio_publico:{tipo:"number",atributos:{required:"required"},val:"1pre",etiqueta:"Precio al p\u00fablico:"},
disponibilidad:{tipo:"number",atributos:{required:"required"},val:"1pre",etiqueta:"Disponibilidad:"},tipo_papel:{tipo:"seleccion",atributos:{required:"required"},val:"1pre",etiqueta:"Numero de tipos de papel (interiores):",id:"tipo",textos:["","tipo"],tabla:"tipos_papel"}},datos_tecnicos:{formato:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Formato (orientaci\u00f3n):",id:"formato",textos:["","formato"],tabla:"formatos"},ancho:{tipo:"number",atributos:{required:"required"},val:"",
etiqueta:"Ancho:"},alto:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"Alto:"},paginas_totales:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"P\u00e1ginas totales:"},paginas_preliminares:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"P\u00e1ginas preliminares:"},paginas_finales:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"P\u00e1ginas blancas finales o con promoci\u00f3n:"},lomo:{tipo:"number",atributos:{required:"required"},val:"",
etiqueta:"Lomo:"}},datos_encuadernacion_forros:{forro:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Forro:",id:"forro",textos:["","forro"],tabla:"forros"},forro_solapa:{tipo:"seleccion",atributos:null,val:"",etiqueta:"El forro tiene solapa:",id:"opt",textos:["","opt"],tabla:"opts"},papel_forro:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Papel del forro:",id:"papel",textos:["","papel"],tabla:"papel_forro"},gramaje_forro:{tipo:"number",atributos:{required:"required",
min:"1"},val:"",etiqueta:"Gramaje del forro:",id:"gramaje",textos:["","gramaje"],tabla:"gramajes"},tintas_forro:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Tintas del forro:",id:"tinta",textos:["","tinta"],tabla:"tintas"},acabados_forro:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Acabados del forro:",id:"acabado",textos:["","acabado"],tabla:"acabados"},suaje:{tipo:"seleccion",atributos:null,val:"",etiqueta:"El forro tiene suaje especial:",id:"opt",textos:["",
"opt"],tabla:"opts"},grabado:{tipo:"seleccion",atributos:null,val:"",etiqueta:"El forro tiene grabado:",id:"opt",textos:["","opt"],tabla:"opts"}},datos_guardas:{foliacion:{tipo:"seleccion",atributos:null,val:"",etiqueta:"La foliaci\u00f3n incluye guardas:",id:"opt",textos:["","opt"],tabla:"opts"},papel_guarda:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Papel de las guardas:",id:"papel",textos:["","papel"],tabla:"papel_forro1"},tinta_guarda:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Tintas de las guardas:",
id:"tinta",textos:["","tinta"],tabla:"tintas"}},datos_interior_1:{num_paginas:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"N\u00famero de p\u00e1ginas:"},papel_interior_1:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Papel del interior:",id:"papel",textos:["","papel"],tabla:"papel_forro1"},gramaje_interior_1:{tipo:"number",atributos:{required:"required",min:"1"},val:"",etiqueta:"Gramaje del interior:",id:"gramaje",textos:["","gramaje"],tabla:"gramajes"},tinta_interior_1:{tipo:"seleccion",
atributos:{required:"required"},val:"",etiqueta:"Tintas del interior:",id:"tinta",textos:["","tinta"],tabla:"tintas"},acabados_interior_1:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Acabados del interior:",id:"acabado",textos:["","acabado"],tabla:"acabados"},suaje:{tipo:"seleccion",atributos:null,val:"",etiqueta:"El interior tiene suaje especial:",id:"opt",textos:["","opt"],tabla:"opts"},grabado:{tipo:"seleccion",atributos:null,val:"",etiqueta:"El interior tiene grabado:",id:"opt",
textos:["","opt"],tabla:"opts"}},datos_interior_2:{num_paginas:{tipo:"number",atributos:{required:"required"},val:"",etiqueta:"N\u00famero de p\u00e1ginas:"},papel_interior_2:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Papel del interior:",id:"papel",textos:["","papel"],tabla:"papel_forro1"},gramaje_interior_2:{tipo:"number",atributos:{required:"required",min:"1"},val:"",etiqueta:"Gramaje del interior:",id:"gramaje",textos:["","gramaje"],tabla:"gramajes"},tinta_interior_2:{tipo:"seleccion",
atributos:{required:"required"},val:"",etiqueta:"Tintas del interior:",id:"tinta",textos:["","tinta"],tabla:"tintas"},acabados_interior_2:{tipo:"seleccion",atributos:{required:"required"},val:"",etiqueta:"Acabados del interior:",id:"acabado",textos:["","acabado"],tabla:"acabados"},suaje:{tipo:"seleccion",atributos:null,val:"",etiqueta:"El interior tiene suaje especial:",id:"opt",textos:["","opt"],tabla:"opts"},grabado:{tipo:"seleccion",atributos:null,val:"",etiqueta:"El interior tiene grabado:",id:"opt",
textos:["","opt"],tabla:"opts"}},datos_caracteristicas_especiales:{paginas_desplegables:{tipo:"seleccion",atributos:null,val:"",etiqueta:"P\u00e1ginas desplegables:",id:"num",textos:["","num"],tabla:"numeros"},encartes:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Encartes:",id:"num",textos:["","num"],tabla:"numeros"},pop_ups:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Pop \u2013 ups:",id:"num",textos:["","num"],tabla:"numeros"},disco_compacto:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Disco compacto:",
id:"num",textos:["","num"],tabla:"numeros"},audiocinta:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Audiocinta:",id:"num",textos:["","num"],tabla:"numeros"},videocinta:{tipo:"seleccion",atributos:null,val:"",etiqueta:"Videocinta:",id:"num",textos:["","num"],tabla:"numeros"},otras_caracteristicas_especiales:{tipo:"textarea",atributos:null,val:"",etiqueta:"Otras caracter\u00edsticas especiales:"},observaciones:{tipo:"textarea",atributos:null,val:"",etiqueta:"Observaciones:"}},id_form:"form_registro",
crear_cabecera:function(b){b=$("<header>",{id:this.id_form+"_header","class":"row bg-primary text-white mt-3"});let a=$("<h2>",{"class":"text-center"});$("<p>",{"class":"alert alert-danger text-center"});$(a).text("Registro de t\u00edtulos");$(b).append(a);return b},crear_anuncios:function(){let b=$("<section>",{id:this.id_form+"_anuncios","class":"row"}),a=$("<p>",{"class":"display-5 mt-5 mb-3 mx-auto font-weight-bold"}).text("Los campos en negrita son obligatorios");$(b).append(a);return b},crear_datos_bibliograficos:function(){this.data.tipos_papel=
{data:[{tipo:1},{tipo:2},{tipo:3},{tipo:4},{tipo:5},{tipo:6},{tipo:7},{tipo:8}]};this.data.bilingue=this.bilingue;let b=$("<section>",{id:this.id_form+"_datos_bibliograficos","class":"mx-10",titulo:"datos_bibliograficos"});$.each(this.datos_bibliograficos,(a,c)=>{a=form_registro_titulos.crear_input_group(a,c);$(b).append(a)});return b},crear_datos_tecnicos:function(){this.data.formatos={data:[{formato:"horizontal"},{formato:"vertical"}]};let b=$("<section>",{id:this.id_form+"_datos_tecnicos","class":"mx-10",
titulo:"datos_tecnicos"});$.each(this.datos_tecnicos,(a,c)=>{a=form_registro_titulos.crear_input_group(a,c);$(b).append(a)});return b},crear_datos_encuadernacion_forros:function(){this.data.forros={data:[{forro:"A caballo con 1 grapa"},{forro:"A caballo con 2 grapas"},{forro:"A caballo con 3 grapas"},{forro:"A caballo con 4 grapas"},{forro:"Acorde\u00f3n"},{forro:"Empalmado"},{forro:"R\u00fastica"},{forro:"R\u00fastica (espirar \u2013 wire)"},{forro:"R\u00fastica (pegada y cosida"},{forro:"R\u00fastica (pegada)"},
{forro:"Tapa dura - carton\u00e9 (lomo de b\u00f3veda)"},{forro:"Tapa dura - carton\u00e9 (pegada y cosida)"},{forro:"Tapa dura - carton\u00e9(pegada)"}]};this.data.gramajes={data:[{gramaje:"Gramos"},{gramaje:"Puntos"}]};this.data.acabados={data:[{acabado:"Barniz / M\u00e1quina / Mate"},{acabado:"Barniz / M\u00e1quina / Brillante"},{acabado:"Barniz / Barniz UV / Mate"},{acabado:"Barniz / Barniz UV / Brillante"},{acabado:"Plastificado / Mate"},{acabado:"Plastificado / Brillante"},{acabado:"Sin acabado especial"},
{acabado:"Otro"}]};const b=this.crear_group(this.datos_encuadernacion_forros.forro,this.crear_input_seleccion("forro","forros","forro",this.datos_encuadernacion_forros.forro.textos)),a=this.crear_group(this.datos_encuadernacion_forros.forro_solapa,this.crear_input_seleccion("forro_solapa","opts","opt",this.datos_encuadernacion_forros.forro_solapa.textos)),c=this.crear_group(this.datos_encuadernacion_forros.papel_forro,this.crear_input_seleccion("papel_forro1","papel_forro1","papel",this.datos_encuadernacion_forros.papel_forro.textos));
$(c).append(this.crear_input_seleccion("papel_forro2","papel_forro2","papel",this.datos_encuadernacion_forros.papel_forro.textos));const e=this.crear_input_group("gramaje_forro1",this.datos_encuadernacion_forros.gramaje_forro);$(e).append(this.crear_input_seleccion("gramaje_forro2","gramajes","gramaje",this.datos_encuadernacion_forros.gramaje_forro.textos));const d=this.crear_input_group("tintas_forro",this.datos_encuadernacion_forros.tintas_forro),f=this.crear_input_group("acabado_forro",this.datos_encuadernacion_forros.acabados_forro),
h=this.crear_input_group("suaje",this.datos_encuadernacion_forros.suaje),g=this.crear_input_group("grabado",this.datos_encuadernacion_forros.grabado),k=$("<section>",{id:this.id_form+"_datos_encuadernacion_forros","class":"mx-10",titulo:"datos_encuadernacion_forros"});$(k).append(b).append(a).append(c).append(e).append(d).append(f).append(h).append(g);return k},crear_datos_guardas:function(){const b=this.crear_input_group("foliacion",this.datos_guardas.foliacion),a=this.crear_group(this.datos_guardas.papel_guarda,
this.crear_input_seleccion("papel_guardas","papel_forro1","papel",this.datos_guardas.papel_guarda.textos));$(a).append(this.crear_input_seleccion("papel_guardas2","papel_forro2","papel",this.datos_guardas.papel_guarda.textos));const c=this.crear_input_group("tintas_guarda",this.datos_guardas.tinta_guarda),e=$("<section>",{id:this.id_form+"_datos_guardas","class":"mx-10",titulo:"datos_guardas"});$(e).append(b).append(a).append(c);return e},crear_datos_interior_1:function(){const b=this.crear_input_group("num_paginas",
this.datos_interior_1.num_paginas),a=this.crear_group(this.datos_interior_1.papel_interior_1,this.crear_input_seleccion("papel_interior_1","papel_forro1","papel",this.datos_interior_1.papel_interior_1.textos));$(a).append(this.crear_input_seleccion("papel_interior_1_2","papel_forro2","papel",this.datos_interior_1.papel_interior_1.textos));const c=this.crear_input_group("gramaje_interior_1",this.datos_interior_1.gramaje_interior_1);$(c).append(this.crear_input_seleccion("gramaje_interior_1_2","gramajes",
"gramaje",this.datos_interior_1.gramaje_interior_1.textos));const e=this.crear_input_group("tinta_interior_1",this.datos_interior_1.tinta_interior_1),d=this.crear_input_group("acabados_interior_1",this.datos_interior_1.acabados_interior_1),f=this.crear_input_group("suaje_interior_1",this.datos_interior_1.suaje),h=this.crear_input_group("grabado_interior_1",this.datos_interior_1.grabado),g=$("<section>",{id:this.id_form+"_datos_interior_1","class":"mx-10",titulo:"datos_interior_1"});$(g).append(b).append(a).append(c).append(e).append(d).append(f).append(h);
return g},crear_datos_interior_2:function(){const b=this.crear_input_group("num_paginas_interior_2",this.datos_interior_2.num_paginas),a=this.crear_group(this.datos_interior_2.papel_interior_2,this.crear_input_seleccion("papel_interior_2","papel_forro1","papel",this.datos_interior_2.papel_interior_2.textos));$(a).append(this.crear_input_seleccion("papel_interior_2_2","papel_forro2","papel",this.datos_interior_2.papel_interior_2.textos));const c=this.crear_input_group("gramaje_interior_2",this.datos_interior_2.gramaje_interior_2);
$(c).append(this.crear_input_seleccion("gramaje_interior_2_2","gramajes","gramaje",this.datos_interior_2.gramaje_interior_2.textos));const e=this.crear_input_group("tinta_interior_2",this.datos_interior_2.tinta_interior_2),d=this.crear_input_group("acabados_interior_2",this.datos_interior_2.acabados_interior_2),f=this.crear_input_group("suaje_interior_2",this.datos_interior_2.suaje),h=this.crear_input_group("grabado_interior_2",this.datos_interior_2.grabado),g=$("<section>",{id:this.id_form+"_datos_interior_2",
"class":"mx-10",titulo:"datos_interior_2"});$(g).append(b).append(a).append(c).append(e).append(d).append(f).append(h);return g},crear_caracteristicas_especiales:function(){const b=this.crear_input_group("paginas_desplegables",this.datos_caracteristicas_especiales.paginas_desplegables),a=this.crear_input_group("encartes",this.datos_caracteristicas_especiales.encartes),c=this.crear_input_group("pop_ups",this.datos_caracteristicas_especiales.pop_ups);$(c).children(".custom-select").append($("<option>",
{value:"M\u00e1s de 9"}).text("M\u00e1s de 9"));const e=this.crear_input_group("disco_compacto",this.datos_caracteristicas_especiales.disco_compacto),d=this.crear_input_group("audiocinta",this.datos_caracteristicas_especiales.audiocinta),f=this.crear_input_group("videocinta",this.datos_caracteristicas_especiales.videocinta),h=this.crear_input_group("otras_caracteristicas_especiales",this.datos_caracteristicas_especiales.otras_caracteristicas_especiales),g=this.crear_input_group("observaciones",this.datos_caracteristicas_especiales.observaciones),
k=$("<section>",{id:this.id_form+"_datos_caracteristicas_especiales","class":"mx-10",titulo:"datos_caracteristicas_especiales"});$(k).append(b).append(a).append(c).append(e).append(d).append(f).append(h).append(g);return k},crear_group:function(b,a){const c=$("<div>",{"class":"input-group mb-3"}),e=$("<div>",{"class":"input-group-prepend"}),d=$("<span>",{"class":"input-group-text"});null!==b.atributos&&($.each(b.atributos,b=>{$(a).attr(b,b)}),null!==b.atributos.required&&$(d).addClass("font-weight-bold"));
$(d).text(b.etiqueta);$(e).append(d);$(c).append(e).append(a);return c},crear_input_group:function(b,a){let c=$("<div>",{"class":"input-group mb-3"}),e=$("<div>",{"class":"input-group-prepend"}),d=$("<span>",{"class":"input-group-text"}),f="",h=null!==a.atributos?!0:!1;"checkbox"===a.tipo?($(c).addClass("border"),$.each(a.etiqueta_checkbox,(b,d)=>{b=this.crear_input_checkbox(a,b,d);$(c).append(b)})):"textarea"===a.tipo?f=textarea=this.crear_input_textarea(b):"btn_crear_seleccion"===a.tipo?(b=this.crear_input_btn_seleccion(b,
a.tabla,a.id,a.textos),$(c).append(b.children(".input-group-prepend")),f=b.children(".custom-select")):f="seleccion"===a.tipo?this.crear_input_seleccion(b,a.tabla,a.id,a.textos,a.etiqueta):$("<input>",{"class":"form-control",type:a.tipo,id:`form_registro_${b}`,value:a.val});h&&($.each(a.atributos,(a,b)=>{$(f).attr(a,b)}),null!==a.atributos.required&&$(d).addClass("font-weight-bold"));"hidden"!==a.tipo&&"btn_crear_seleccion"!==a.tipo&&($(d).text(a.etiqueta),$(e).append(d),$(c).prepend(e));$(c).append(f);
return c},crear_input_checkbox:function(b,a,c){let e=$("<div>",{"class":"form-check form-check-inline mx-auto"}),d=`${form_registro_titulos.id_form}_check_${b.val[a]}`;b=$("<input>",{"class":"form-check-input",type:b.tipo,value:b.val[a],id:d});c=$("<label>",{"for":d,"class":"form-check-label"}).text(c);$(e).append(b).append(c);return e},crear_input_textarea:function(b){return textarea=$("<textarea>",{"class":"form-control",id:form_registro_titulos.id_form+"_"+b})},crear_input_btn_seleccion:function(b,
a,c,e){let d=$("<div>");var f=b.substring(0,1).toUpperCase()+b.substring(1);let h=$("<div>",{"class":"input-group-prepend"});f=$("<button>",{"class":"btn btn-outline-secondary btn-md m-0 px-3 py-2 z-depth-0 dropdown-toggle",type:"button",id:`${this.id_form}_btn_agregar_${b}`,"data-toggle":"dropdown","aria-expanded":"false","aria-haspopup":"true"}).text(`${f}:`);var g=$("<a>",{id:`agregar_${b}`,"class":"dropdown-item","data-toggle":"modal","data-target":"#modal_form_autores"}).text("Agregar");let k=
$("<button>",{type:"button",id:`eliminar_${b}`,"class":"dropdown-item"}).text("Eliminar");g=$("<div>",{"class":"dropdown-menu"}).append(g).append(k);b=this.crear_input_seleccion(b,a,c,e);$(h).append(f).append(g);$(d).append(h).append(b);return d},crear_input_seleccion:function(b,a,c,e){let d=$("<select>",{"class":"custom-select",id:`${this.id_form}_${b}`});$(d).append($("<option>",{value:!1}).text("Selecciona uno"));this.data[a].data.forEach(function(a){let b=$("<option>",{value:a[c]});$(b).text(`${void 0===
a[e[0]]?"":a[e[0]]+" | "}${a[e[1]]}`);$(d).append(b)});return d},crear_card:function(b){var a=$(b).attr("id");const c=$(b).attr("titulo"),e=$("<div>",{id:`card_${a}`,"class":"card"});switch(c){case "datos_bibliograficos":var d="Datos Bibliogr\u00e1ficos";break;case "datos_tecnicos":d="Datos T\u00e9cnicos";break;case "datos_encuadernacion_forros":d="Datos Encuadernaci\u00f3n y forros";break;case "datos_guardas":d="Guardas";break;case "datos_interior_1":d="Interior 1";break;case "datos_interior_2":d=
"Interior 2";break;case "datos_caracteristicas_especiales":d="Caracter\u00edsticas especiales"}const f=$("<div>",{id:c,"class":"card-header"}),h=$("<h3>",{"class":"mb-0"}),g=$("<button>",{"class":"btn btn-link btn-block text-left collapsed",type:"button","data-toggle":"collapse","data-target":`#collapse_${c}`,"aria-expanded":!1,"aria-controls":`collapse_${c}`});$(g).text(d);$(h).append(g);$(f).append(h);a=$("<div>",{id:`collapse_${c}`,"class":"collapse","aria-labelledby":c,"data-parent":`#${a}`});
d=$("<div>",{"class":"card-body"});$(d).append(b);$(a).append(d);$(e).append(f).append(a);return e},crear_acordion:function(b){let a=$("<div>",{id:"acordion","class":"accordion"});b.forEach(b=>{$(a).append(b)});return a},render:function(){this.data.opts={data:[{opt:"Si"},{opt:"No"}]};this.data.papel_forro1={data:[{papel:"Couch\u00e9 o similares"},{papel:"Bond o similares"},{papel:"Otro"}]};this.data.papel_forro2={data:[{papel:"Mate"},{papel:"Brillante"}]};this.data.tintas={data:[{tinta:"1x0"},{tinta:"1x1"},
{tinta:"2x0"},{tinta:"2x1"},{tinta:"2x2"},{tinta:"3x0"},{tinta:"3x1"},{tinta:"3x2"},{tinta:"3x3"},{tinta:"4x0"},{tinta:"4x1"},{tinta:"4x2"},{tinta:"4x3"},{tinta:"4x4"},{tinta:"5x0"},{tinta:"5x1"},{tinta:"5x2"},{tinta:"5x3"},{tinta:"5x4"},{tinta:"5x5"},{tinta:"Sin tinta"}]};this.data.gramajes={data:[{gramaje:"Gramos"},{gramaje:"Puntos"}]};this.data.acabados={data:[{acabado:"Barniz / M\u00e1quina / Mate"},{acabado:"Barniz / M\u00e1quina / Brillante"},{acabado:"Barniz / Barniz UV / Mate"},{acabado:"Barniz / Barniz UV / Brillante"},
{acabado:"Plastificado / Mate"},{acabado:"Plastificado / Brillante"},{acabado:"Sin acabado especial"},{acabado:"Otro"}]};this.data.numeros={data:[{num:1},{num:2},{num:3},{num:4},{num:5},{num:6},{num:7},{num:8}]};const b=$("<article>",{id:this.id_form,"class":"container-fluid border"}),a=$("<form>",{id:"form_registro","class":"needs-validation",novalidate:"novalidate"});var c=this.crear_card(this.crear_datos_bibliograficos()),e=this.crear_card(this.crear_datos_tecnicos()),d=this.crear_card(this.crear_datos_encuadernacion_forros()),
f=this.crear_card(this.crear_datos_guardas());const h=this.crear_card(this.crear_datos_interior_1()),g=this.crear_card(this.crear_datos_interior_2()),k=this.crear_card(this.crear_caracteristicas_especiales());c=this.crear_acordion([c,e,d,f,h,g,k]);e=$("<button>",{type:"submit",id:"btn_enviar_registro","class":"btn btn-primary"}).text("Registrar t\u00edtulo");d=$("<button>",{type:"reset",id:"btn_cancelar_registro","class":"btn btn-danger"}).text("Cancelar registrar");f=$("<div>",{"class":"mx-auto"});
$(f).append(e).append(d);$(a).append(c).append(f);$(b).append(this.crear_cabecera("Datos Bibliogr\u00e1ficos")).append(this.crear_anuncios()).append(a);return b}},form_autor={data:"",id_form:"form_autores",header_create:function(){let b=$("<div>",{id:this.id_form+"_header","class":"modal-header"}),a=$("<h5>",{"class":"modal-title"}),c=$("<button>",{"class":"close","data-dismiss":"modal","aria-label":"Cerrar"}),e=$("<span>",{"aria-hidden":!0});$(a).text("Agregar Autor");$(e).html("&times;");$(b).append(a);
$(c).append(e);$(b).append(c);return b},body_create:function(){let b=$("<div>",{"class":"modal-body"}),a=$("<form>",{id:this.id_form,"class":"was-validated"});var c={required:"required"};let e=this.group_select_create("tipo_autor",[{id:1,tipo:"Autor"},{id:2,tipo:"Antologado"},{id:3,tipo:"Ilustador"},{id:4,tipo:"Traductor"},{id:5,tipo:"Compilador"},{id:6,tipo:"Coordinador"},{id:7,tipo:"Adaptador"}],"Tipo de Autor",[c],"tipo","tipo");c={required:"required"};let d=this.input_group_create("nombre","",
"Nombre Completo",[c]);c={required:"required"};c=this.group_select_create("pais_origen",this.data.paises.data,"Pa\u00eds de origen",[c],"pai_pais","pai_pais");$(a).append(e);$(a).append(d);$(a).append(c);$(b).append(a);return b},footer_create:function(){let b=$("<div>",{"class":"modal-footer"}),a=$("<button>",{"class":"btn btn-secondary","data-dismiss":"modal"}),c=$("<button>",{"class":"btn btn-primary",type:"submit",form:this.id_form});$(a).text("Cerrar");$(c).text("Crear Autor");$(b).append(a);
$(b).append(c);return b},input_group_create:function(b,a,c,e,d="text"){let f=this.id_form,h=$("<div>",{"class":"input-group mb-3"}),g=$("<div>",{"class":"input-group-prepend"}),k=$("<span>",{"class":"input-group-text"}),l=$("<input>",{"class":"form-control",type:d,id:f+"_"+b});e.forEach(function(a){$(l).attr(a)});$(k).text(c);$(l).val(a);$(g).append(k);$(h).append(g).append(l);return h},group_select_create:function(b,a,c,e,d,f){let h=this.id_form,g=$("<div>",{"class":"input-group mb-3"}),k=$("<div>",
{"class":"input-group-prepend"}),l=$("<span>",{"class":"input-group-text"}),m=$("<select>",{"class":"custom-select",id:h+"_"+b});e.forEach(function(a){$(m).attr(a)});a.forEach(function(a){let b=$("<option>",{value:a[d]});$(b).text(a[f]);$(m).append(b)});$(l).text(c);$(k).append(l);$(g).append(k).append(m);return g},modal_form_create:function(){let b=$("<div>",{id:"modal_"+this.id_form,role:"form","class":"modal fade",tabindex:"-1","aria-hidden":"true"}),a=$("<div>",{"class":"modal-dialog"}),c=$("<div>",
{"class":"modal-content"}),e=this.header_create(),d=this.body_create(),f=this.footer_create();$(c).append(e);$(c).append(d);$(c).append(f);$(a).append(c);$(b).append(a);return b},render:function(){return this.modal_form_create()}},form_activacion_editorial={data:"",id_form:"form_activacion_editorial",desalertar:function(){this.estado.alertado=!1;this.estado.mensaje=""},alertar:function(b){this.estado.alertado=!0;this.estado.mensaje=b},estado:{alertado:!1,mensaje:""},header_create:function(){let b=
$("<header>",{id:this.id_form+"_header","class":"jumbotron"}),a=$("<h2>",{"class":"text-center"}),c=$("<p>",{"class":"alert alert-danger text-center"});$(a).text("Datos de editorial");$(b).append(a);this.estado.alertado&&($(c).text(this.estado.mensaje),$(b).append(c));return b},form_create:function(){let b=$("<form>",{id:this.id_form});var a={disabled:"disabled",required:"required"};let c=this.data.editorial.data[0].edi_razonsocial;c=this.group_input_create("razon_social",c,"Raz\u00f3n Social",[a]);
a={required:"required"};let e=this.data.editorial.data[0].edi_rfc;e=this.group_input_create("rfc",e,"R.F.C.",[a]);a={required:"required"};let d=this.data.editorial.data[0].edi_grupoedit;d=this.group_input_create("grupo_editorial",d,"Grupo Editorial",[a]);a={readonly:"readonly"};let f=this.data.sellos_editoriales.data,h="";f.forEach(a=>{h+=a.sel_sello+"\r\n"});f=this.group_textarea_create("sellos_editoriales",h,"Sellos Editoriales",[a]);a={readonly:"readonly"};let g=this.group_input_create("edicion_autor",
"No","Edici\u00f3n de Autor",[a]);a={required:"required"};let k=this.data.editorial.data[0].edi_colonia;k=this.group_input_create("colonia",k,"Colonia",[a]);a={required:"required"};let l=this.data.editorial.data[0].edi_calle;l=this.group_input_create("calle",l,"Calle",[a]);a={required:"required"};let m=this.data.editorial.data[0].edi_numero;m=this.group_input_create("numero_exterior",m,"N\u00fam. Exterior e Interior",[a]);a={required:"required"};let n=this.data.editorial.data[0].edi_cp;n=this.group_input_create("cp",
n,"C\u00f3digo postal",[a],"number");a={required:"required"};let p=this.data.editorial.data[0].edi_ciudad;p=this.group_input_create("ciudad",p,"Ciudad",[a]);a={required:"required"};let q=this.data.paises.data;q=this.group_select_create("pais",q,"Pa\u00eds",[a],"pai_pais","pai_pais");a={};let w;w=this.group_input_create("entidad_federativa","","Entidad Federativa",[a]);a={};let x;x=this.group_input_create("del_mun","","Delegaci\u00f3n o Municipio",[a]);a={required:"required"};let y;y=this.group_input_create("telefono",
"","Tel\u00e9fono",[a]);a={required:"required"};let z;z=this.group_input_create("email","","Correo Electr\u00f3nico",[a],"email");let r=$("<fieldset>");a=$("<legend>");a.text("Representante/Titular");$(r).append(a);a={disabled:"disabled",required:"required"};let t=this.data.editorial.data[0].edi_repnombre;t=this.group_input_create("nombre_titular",t,"Nombre",[a]);a={disabled:"disabled",required:"required"};let u=this.data.editorial.data[0].edi_repcargo;u=this.group_input_create("cargo_titular",u,
"Cargo del Representante",[a]);a={disabled:"disabled"};let v=this.data.editorial.data[0].edi_observaciones;v=this.group_textarea_create("observaciones",v,"Detalles",[a]);$(r).append(t).append(u).append(v);$(b).append(c);$(b).append(e);$(b).append(d);$(b).append(f);$(b).append(g);$(b).append(k);$(b).append(l);$(b).append(m);$(b).append(n);$(b).append(p);$(b).append(q);$(b).append(w);$(b).append(x);$(b).append(y);$(b).append(z);$(b).append(r);return b},group_input_create:function(b,a,c,e,d="text"){let f=
this.id_form,h=$("<div>",{"class":"input-group mb-3"}),g=$("<div>",{"class":"input-group-prepend"}),k=$("<span>",{"class":"input-group-text"}),l=$("<input>",{"class":"form-control",type:d,id:f+"_"+b});e.forEach(function(a){$(l).attr(a)});$(k).text(c);$(l).val(a);$(g).append(k);$(h).append(g).append(l);return h},group_select_create:function(b,a,c,e,d,f){let h=this.id_form,g=$("<div>",{"class":"input-group mb-3"}),k=$("<div>",{"class":"input-group-prepend"}),l=$("<span>",{"class":"input-group-text"}),
m=$("<select>",{"class":"custom-select",id:h+"_"+b});e.forEach(function(a){$(m).attr(a)});a.forEach(function(a){let b=$("<option>",{value:a[d]});$(b).text(a[f]);$(m).append(b)});$(l).text(c);$(k).append(l);$(g).append(k).append(m);return g},group_textarea_create:function(b,a,c,e){let d=this.id_form,f=$("<div>",{"class":"input-group mb-3"}),h=$("<div>",{"class":"input-group-prepend"}),g=$("<span>",{"class":"input-group-text"}),k=$("<textarea>",{"class":"form-control",id:d+"_"+b});e.forEach(function(a){$(k).attr(a)});
$(g).text(c);$(k).val(a);$(h).append(g);$(f).append(h).append(k);return f},modal_form_create:function(){let b=$("<div>",{role:"form"}),a=$("<div>",{"class":"modal-dialog modal-xl"}),c=$("<div>",{"class":"modal-content"}),e=$("<div>",{"class":"modal-header"}),d=$("<h5>",{"class":"modal-title"}),f=$("<h5>",{"class":"modal-body"}),h=$("<div>",{"class":"modal-footer"}),g=$("<button>",{"class":"btn btn-primary",type:"submit",form:this.id_form}),k=this.form_create();$(d).text("Datos de la editorial "+this.data.editorial.data[0].edi_razonsocial);
$(g).text("Guardar");$(e).append(d);$(f).append(k);$(h).append(g);$(c).append(e).append(f).append(h);$(a).append(c);$(b).append(a);return b},render:function(){let b=$("#contenedor_principal");$(b).append(this.header_create()).append(this.modal_form_create())}};