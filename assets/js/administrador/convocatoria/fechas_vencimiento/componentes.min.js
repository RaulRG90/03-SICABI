"use_strict";
var cabecera={render:function(){let a=$("<div>",{"class":"jumbotron"}),b=$("<h2>",{"class":"display-4"}).text("Establecer Fechas de Vencimiento"),d=$("<hr>"),c=$("<p>",{"class":"lead"}).text("Asigna una fecha de inicio y fin de acceso para cada uno de los m\u00f3dulos"),e=historial_cambios.boton_mostrar_historial();$(a).append(b);$(a).append(c);$(a).append(d);$(a).append(e);return a}},frm_fechas={render:function(a,b){let d=$("<form>",{id:"frm_fechas","class":"text-center"}),c=$("<button>",{"class":"btn btn-success",
type:"submit",id:"btn_guardar"});$(c).text("Guardar Asignaci\u00f3n");b.forEach(function(a){$(d).append(frm_fechas.input_group_create(a))});$(d).append(c);$(a).append(d)},input_group_create:function(a){let b=$("<div>",{"class":"md-form input-group row"}),d=$("<div>",{"class":"input-group-prepend col-sm-12 col-md-12 col-lg-4"}),c=$("<span>",{"class":"input-group-text md-addon"}),e=Object.create(date_picker),f=Object.create(date_picker);$(c).text(a.nombre);$(d).append(c);$(b).append(d);$(b).append(e.create(a,
"Inicio Fecha","fecha_inicio_acceso"));$(b).append(f.create(a,"Fin Fecha","fecha_fin_acceso"));return b}},date_picker={create:function(a,b,d){var c=a.nombre.toLowerCase().replace(/ /g,"_")+"_"+b.toLowerCase().replace(/ /g,"_");let e=$("<div>",{"class":"md-form col",id:"date_picker_"+c}),f=$("<input>",{"class":"form-control datepicker",type:"text",id:c,modulo:a.id_modulo});c=$("<label>",{"for":c,"class":"active"});$(f).val(a[d]);$(e).append(f);$(c).text(b);$(e).append(c);return e}},historial_cambios=
{render:function(a){let b=$("<div>",{"class":"modal fade",id:"historial_cambios",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":!0}),d=$("<div>",{"class":"modal-dialog modal-lg modal-dialog-scrollable",role:"document"}),c=$("<div>",{"class":"modal-content"}),e=$("<div>",{"class":"modal-header"}),f=$("<h5>",{"class":"modal-title",id:"label_modal"}),g=$("<button>",{type:"button","class":"close","data-dismiss":"modal","aria-label":"close"}),h=$("<span>",{"aria-hidden":"true"}),
k=$("<div>",{"class":"modal-body"}),l=$("<div>",{"class":"modal-footer"});$(h).html("&times;");$(g).append(h);$(f).text("Historial de cambios");$(e).append(f).append(g);$(k).append(this.tabla_historial_cambios(a));$(c).append(e).append(k).append(l);$(d).append(c);$(b).append(d);return b},boton_mostrar_historial:function(){let a=$("<div>",{"class":"text-right"}),b=$("<button>",{type:"button","class":"btn btn-primary","data-toggle":"modal","data-target":"#historial_cambios"});$(b).text("Historial de Cambios");
$(a).append(b);return a},tabla_historial_cambios:function(a){let b=$("<table>",{border:"border"}),d=$("<thead>"),c=$("<tr>"),e=$("<tbody>");a.forEach(function(a){let b=$("<tr>");a="<td>"+a.nombre+"</td><td>"+a.atributo+"</td><td>"+a.fecha+"</td><td>"+a.valor_previo+"</td><td>"+a.valor_actual+"</td><td>"+a.usu_nombre+"</td>";$(b).html(a);$(e).append(b)});$(c).html("<th>Elemento</th><th>Atributo</th><th>Fecha de modificaci\u00f3n</th><th>Valor previo</th><th>Valor actual</th><th>Usuario</th>");$(d).append(c);
$(b).append(d).append(e);return b}};